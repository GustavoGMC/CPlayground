<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plano de Estudos Interativo de C</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Tailwind CSS Slate and Sky -->
    <!-- Application Structure Plan: A single-page application with a fixed sidebar for navigation between 10 learning modules, an intro, and a resources section. The main content area will display the details for the selected module. Interactivity is provided through navigation, collapsible sections for exercises, and a Chart.js visualization showing module complexity. This structure makes the linear study plan easy to navigate and track, turning a static document into an engaging learning tool. -->
    <!-- Visualization & Content Choices:
    - Report Info: 10-module C study plan. Goal: Organize content for easy learning. Viz/Presentation: HTML sections with accordions for topics/exercises. Interaction: Sidebar navigation. Justification: Provides a clear, uncluttered learning path.
    - Report Info: Module progression. Goal: Visualize the learning journey. Viz/Presentation: Chart.js Bar Chart showing "complexity" per module. Interaction: Static visualization. Justification: Gives user a quick overview of the effort required for each stage.
    - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .nav-link.active {
            background-color: #0ea5e9; /* sky-500 */
            color: white;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="flex min-h-screen">
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="w-64 bg-slate-800 text-white p-4 space-y-2 fixed top-0 left-0 h-full transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out z-30">
            <h1 class="text-2xl font-bold text-sky-400 mb-6">Jornada C</h1>
            <nav id="navigation" class="space-y-1">
                <a href="#introducao" class="nav-link block w-full text-left px-4 py-2 rounded-md hover:bg-slate-700 transition-colors">Introdução & Ferramentas</a>
                <a href="#modulo1" class="nav-link block w-full text-left px-4 py-2 rounded-md hover:bg-slate-700 transition-colors">Módulo 1: Fundamentos</a>
                <a href="#modulo2" class="nav-link block w-full text-left px-4 py-2 rounded-md hover:bg-slate-700 transition-colors">Módulo 2: Controlo de Fluxo</a>
                <a href="#modulo3" class="nav-link block w-full text-left px-4 py-2 rounded-md hover:bg-slate-700 transition-colors">Módulo 3: Funções</a>
                <a href="#modulo4" class="nav-link block w-full text-left px-4 py-2 rounded-md hover:bg-slate-700 transition-colors">Módulo 4: Arrays e Strings</a>
                <a href="#modulo5" class="nav-link block w-full text-left px-4 py-2 rounded-md hover:bg-slate-700 transition-colors">Módulo 5: Ponteiros</a>
                <a href="#modulo6" class="nav-link block w-full text-left px-4 py-2 rounded-md hover:bg-slate-700 transition-colors">Módulo 6: Aloc. Dinâmica</a>
                <a href="#modulo7" class="nav-link block w-full text-left px-4 py-2 rounded-md hover:bg-slate-700 transition-colors">Módulo 7: Estruturas</a>
                <a href="#modulo8" class="nav-link block w-full text-left px-4 py-2 rounded-md hover:bg-slate-700 transition-colors">Módulo 8: Ficheiros</a>
                <a href="#modulo9" class="nav-link block w-full text-left px-4 py-2 rounded-md hover:bg-slate-700 transition-colors">Módulo 9: Pré-processador</a>
                <a href="#modulo10" class="nav-link block w-full text-left px-4 py-2 rounded-md hover:bg-slate-700 transition-colors">Módulo 10: Tópicos Avançados</a>
                <a href="#recursos" class="nav-link block w-full text-left px-4 py-2 rounded-md hover:bg-slate-700 transition-colors">Recursos & Dicas</a>
            </nav>
        </aside>

        <!-- Mobile Menu Button -->
        <button id="menu-button" class="md:hidden fixed top-4 left-4 z-40 bg-slate-800 text-white p-2 rounded-md">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
        </button>

        <div id="overlay" class="md:hidden fixed inset-0 bg-black opacity-50 z-20 hidden"></div>


        <!-- Main Content -->
        <main class="flex-1 md:ml-64 p-6 md:p-10">
            <div id="introducao" class="content-section">
                <h2 class="text-4xl font-bold text-slate-900 mb-4">Plano de Estudos Interativo de C</h2>
                <p class="text-lg text-slate-600 mb-8">Bem-vindo à sua jornada para dominar a linguagem C. Esta aplicação interativa transforma o plano de estudos num guia passo a passo, permitindo-lhe focar-se no que mais importa: aprender e praticar. Utilize a navegação lateral para explorar cada módulo.</p>

                <div class="bg-white p-6 rounded-lg shadow-md mb-8">
                    <h3 class="text-2xl font-semibold text-slate-800 mb-4">Visão Geral da Curva de Aprendizagem</h3>
                    <p class="text-slate-600 mb-4">O gráfico abaixo representa a complexidade estimada de cada módulo. Os módulos iniciais constroem a base, enquanto tópicos como Ponteiros e Alocação Dinâmica exigem uma atenção especial. Esta visualização ajuda a planear o seu tempo e esforço.</p>
                    <div class="chart-container">
                        <canvas id="complexityChart"></canvas>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-2xl font-semibold text-slate-800 mb-3">Introdução à Linguagem C</h3>
                        <p class="text-slate-600 mb-4">C é uma linguagem de programação de propósito geral, conhecida pela sua eficiência e controlo de baixo nível. É a base de muitos sistemas operativos, compiladores e outras tecnologias fundamentais que usamos todos os dias.</p>
                        <ul class="list-disc list-inside text-slate-600 space-y-1">
                            <li>Sistemas Operativos (Linux, Windows)</li>
                            <li>Sistemas Embarcados e Firmware</li>
                            <li>Desenvolvimento de Jogos e Gráficos</li>
                            <li>Bases de Dados e Redes</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-2xl font-semibold text-slate-800 mb-3">Ferramentas Essenciais</h3>
                        <p class="text-slate-600 mb-4">Para começar, irá precisar de um compilador e de um editor de texto ou IDE. A nossa recomendação para um início rápido é:</p>
                        <ul class="space-y-3">
                            <li class="flex items-start">
                                <span class="text-sky-500 mr-3 mt-1">➔</span>
                                <div><strong class="font-semibold text-slate-700">Compilador:</strong> GCC (GNU Compiler Collection), que é o padrão na indústria e facilmente instalável em qualquer sistema operativo.</div>
                            </li>
                             <li class="flex items-start">
                                <span class="text-sky-500 mr-3 mt-1">➔</span>
                                <div><strong class="font-semibold text-slate-700">Editor/IDE:</strong> VS Code, por ser leve, gratuito e altamente extensível, com excelente suporte para C.</div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Sections for each module will be dynamically populated here -->
            <div id="content-container"></div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const studyPlan = {
                modules: [
                    { id: 'modulo1', title: 'Módulo 1: Primeiros Passos e Fundamentos', complexity: 2 },
                    { id: 'modulo2', title: 'Módulo 2: Estruturas de Controlo de Fluxo', complexity: 3 },
                    { id: 'modulo3', title: 'Módulo 3: Funções', complexity: 4 },
                    { id: 'modulo4', title: 'Módulo 4: Arrays e Strings', complexity: 5 },
                    { id: 'modulo5', title: 'Módulo 5: Ponteiros', complexity: 8 },
                    { id: 'modulo6', title: 'Módulo 6: Alocação Dinâmica de Memória', complexity: 7 },
                    { id: 'modulo7', title: 'Módulo 7: Estruturas, Uniões e Enumerações', complexity: 6 },
                    { id: 'modulo8', title: 'Módulo 8: Manipulação de Ficheiros', complexity: 6 },
                    { id: 'modulo9', title: 'Módulo 9: Pré-processador e Módulos', complexity: 5 },
                    { id: 'modulo10', title: 'Módulo 10: Tópicos Avançados e Boas Práticas', complexity: 7 },
                ],
                content: {
                    introducao: ``, // Already in HTML
                    modulo1: {
                        description: "Este módulo estabelece a base. Irá aprender a estrutura de um programa C, como compilar e executar o seu primeiro código, e os conceitos fundamentais de variáveis, tipos de dados e operadores.",
                        topics: [
                            "Estrutura básica de um programa C (`#include`, `main`)",
                            "Compilação e Execução com GCC",
                            "Variáveis e Tipos de Dados (`int`, `float`, `char`)",
                            "Operadores (Aritméticos, Relacionais, Lógicos)",
                            "Entrada e Saída Padrão (`printf`, `scanf`)",
                        ],
                        exercises: [
                            { title: '"Olá Mundo!"', details: 'Escreva um programa que imprima "Olá Mundo!" no ecrã.' },
                            { title: 'Calculadora de Soma', details: 'Peça dois números ao utilizador e imprima a sua soma.' },
                            { title: 'Cálculo de Área', details: 'Calcule e imprima a área de um círculo dado o seu raio.' },
                            { title: 'Conversor de Temperatura', details: 'Converta uma temperatura de Celsius para Fahrenheit.' },
                        ]
                    },
                    modulo2: {
                        description: "Aprenda a controlar o fluxo do seu programa com estruturas condicionais e laços de repetição. Estes são os blocos de construção para criar lógica e automação nos seus programas.",
                        topics: [
                            "Condicionais: `if`, `else if`, `else`",
                            "Seleção Múltipla: `switch`",
                            "Laços de Repetição: `for`, `while`, `do-while`",
                            "Controlo de Laços: `break` e `continue`",
                        ],
                        exercises: [
                            { title: 'Verificador Par ou Ímpar', details: 'Crie um programa que verifica se um número inserido é par ou ímpar.' },
                            { title: 'Cálculo de Fatorial', details: 'Calcule o fatorial de um número usando um laço `for`.' },
                            { title: 'Sequência de Fibonacci', details: 'Gere os primeiros N números da sequência de Fibonacci.' },
                            { title: 'Jogo de Adivinhação', details: 'Crie um jogo simples onde o utilizador tenta adivinhar um número secreto.' },
                        ]
                    },
                    modulo3: {
                        description: "As funções permitem-lhe organizar o seu código em blocos lógicos e reutilizáveis. Este módulo aborda como criar e usar funções, a passagem de parâmetros e o conceito de recursividade.",
                        topics: [
                            "Definição e Chamada de Funções",
                            "Parâmetros e Valores de Retorno",
                            "Escopo de Variáveis (Local e Global)",
                            "Protótipos de Funções",
                            "Funções Recursivas",
                        ],
                        exercises: [
                            { title: 'Funções Matemáticas', details: 'Crie funções separadas para soma, subtração, multiplicação e divisão.' },
                            { title: 'Verificador de Número Primo', details: 'Escreva uma função que retorna 1 se um número é primo e 0 caso contrário.' },
                            { title: 'Fatorial Recursivo', details: 'Reimplemente o cálculo de fatorial usando uma função recursiva.' },
                        ]
                    },
                    modulo4: {
                        description: "Arrays e strings são fundamentais para manipular coleções de dados. Aprenda a declarar e usar arrays de uma ou mais dimensões, e como as strings funcionam em C como arrays de caracteres.",
                        topics: [
                            "Arrays Unidimensionais",
                            "Arrays Multidimensionais (Matrizes)",
                            "Strings como Arrays de Caracteres",
                            "Funções da biblioteca `<string.h>` (`strcpy`, `strlen`, `strcmp`)",
                        ],
                        exercises: [
                            { title: 'Média de Notas', details: 'Armazene várias notas num array e calcule a média.' },
                            { title: 'Inversor de String', details: 'Crie um programa que inverte uma string inserida pelo utilizador.' },
                            { title: 'Contador de Vogais', details: 'Conte o número de vogais e consoantes numa string.' },
                        ]
                    },
                    modulo5: {
                        description: "Ponteiros são um dos conceitos mais poderosos e desafiadores em C. Este módulo é crucial para entender a gestão de memória e a interação de baixo nível que C oferece.",
                        topics: [
                            "Conceito de Ponteiros e Endereços de Memória",
                            "Operadores `&` e `*`",
                            "Relação entre Ponteiros e Arrays",
                            "Passagem por Referência usando Ponteiros em Funções",
                            "Aritmética de Ponteiros",
                        ],
                        exercises: [
                            { title: 'Troca de Valores', details: 'Escreva uma função que troca o valor de duas variáveis usando ponteiros.' },
                            { title: 'Manipulação de String com Ponteiros', details: 'Percorra e imprima uma string usando apenas aritmética de ponteiros.' },
                            { title: 'Retorno Múltiplo', details: 'Crie uma função que calcula a soma e o produto de dois números e retorna ambos os resultados através de ponteiros.' },
                        ]
                    },
                    modulo6: {
                        description: "Aprenda a alocar e libertar memória durante a execução do programa. A gestão dinâmica da memória é essencial para criar aplicações flexíveis e eficientes.",
                        topics: [
                            "Funções `malloc()`, `calloc()`, `realloc()`",
                            "Libertação de memória com `free()`",
                            "Gestão de Memória e Prevenção de *Memory Leaks*",
                        ],
                        exercises: [
                            { title: 'Array Dinâmico', details: 'Crie um array cujo tamanho é definido pelo utilizador em tempo de execução.' },
                            { title: 'Leitor de Strings Flexível', details: 'Leia um número indefinido de nomes do utilizador e armazene-os dinamicamente.' },
                            { title: 'Implementação de Lista Ligada Simples', details: 'Crie uma estrutura de dados de lista ligada para armazenar inteiros.' },
                        ]
                    },
                    modulo7: {
                        description: "Crie os seus próprios tipos de dados complexos usando estruturas. Este módulo abrange como agrupar diferentes variáveis, aceder-lhes e utilizá-las com ponteiros e arrays.",
                        topics: [
                            "`struct`: Agrupamento de diferentes tipos de dados",
                            "Ponteiros para Estruturas",
                            "Arrays de Estruturas",
                            "`typedef` para criar aliases de tipos",
                            "`union` e `enum`",
                        ],
                        exercises: [
                            { title: 'Estrutura de Aluno', details: 'Crie uma `struct` para armazenar nome, idade e notas de um aluno.' },
                            { title: 'Agenda de Contactos', details: 'Implemente uma agenda simples usando um array de estruturas de contacto.' },
                            { title: 'Estrutura de Ponto 2D', details: 'Crie uma `struct` para um ponto (x,y) e uma função para calcular a distância entre dois pontos.' },
                        ]
                    },
                    modulo8: {
                        description: "Aprenda a interagir com o sistema de ficheiros para ler e escrever dados permanentemente. Essencial para qualquer aplicação que precise de persistir informação.",
                        topics: [
                            "Ficheiros de Texto vs. Ficheiros Binários",
                            "Funções `fopen()`, `fclose()`",
                            "Leitura/Escrita Formatada (`fprintf`, `fscanf`)",
                            "Leitura/Escrita Binária (`fread`, `fwrite`)",
                            "Navegação em Ficheiros (`fseek`, `ftell`)",
                        ],
                        exercises: [
                            { title: 'Copiador de Ficheiros', details: 'Crie um programa que copia o conteúdo de um ficheiro de texto para outro.' },
                            { title: 'Registo de Logs Simples', details: 'Crie uma função que adiciona uma mensagem de log com data/hora a um ficheiro.' },
                            { title: 'Gestão de Inventário', details: 'Implemente um sistema que guarda e lê uma lista de produtos num ficheiro binário.' },
                        ]
                    },
                    modulo9: {
                        description: "Descubra como o pré-processador transforma o seu código antes da compilação. Aprenda a usar macros e a organizar o seu código em múltiplos ficheiros para criar projetos maiores e mais manuteníveis.",
                        topics: [
                            "Diretivas do Pré-processador (`#define`, `#include`)",
                            "Compilação Condicional (`#ifdef`, `#ifndef`)",
                            "Organização em Ficheiros `.h` (cabeçalhos) e `.c` (implementação)",
                            "Introdução a `makefiles`",
                        ],
                        exercises: [
                            { title: 'Modularização de Programa', details: 'Divida um programa com várias funções em múltiplos ficheiros `.h` e `.c`.' },
                            { title: 'Macros Úteis', details: 'Crie macros para encontrar o máximo de dois números e para calcular a área de um círculo.' },
                            { title: 'Guards de Inclusão', details: 'Proteja os seus ficheiros de cabeçalho contra inclusão múltipla usando `#ifndef`.' },
                        ]
                    },
                    modulo10: {
                        description: "Solidifique o seu conhecimento com tópicos avançados. Aprenda a receber argumentos da linha de comando, tratar erros de forma robusta, usar um depurador e introduzir-se a estruturas de dados clássicas.",
                        topics: [
                            "Argumentos de Linha de Comando (`argc`, `argv`)",
                            "Tratamento de Erros Avançado (`errno`, `perror`)",
                            "Uso de `const` com variáveis e ponteiros",
                            "Depuração com GDB (GNU Debugger)",
                            "Introdução a Estruturas de Dados (Listas Ligadas, Pilhas, Filas)",
                        ],
                        exercises: [
                            { title: 'Calculadora de Linha de Comando', details: 'Crie um programa que recebe dois números e uma operação via linha de comando e imprime o resultado.' },
                            { title: 'Depuração Guiada', details: 'Use o GDB para encontrar um erro num programa fornecido.' },
                            { title: 'Implementação de Pilha (Stack)', details: 'Implemente uma estrutura de dados de pilha usando um array ou alocação dinâmica.' },
                        ]
                    },
                    recursos: {
                        description: "Aprender a programar é uma jornada contínua. Aqui estão alguns recursos e dicas essenciais para o ajudar a ter sucesso, solidificar o seu conhecimento e resolver problemas.",
                        books: [
                            { title: '"The C Programming Language" (K&R)', author: 'Brian W. Kernighan e Dennis M. Ritchie', description: 'A "Bíblia" de C. Essencial para uma compreensão profunda.'},
                            { title: '"C Primer Plus"', author: 'Stephen Prata', description: 'Excelente para iniciantes, muito didático e detalhado.'},
                            { title: '"Programação em C"', author: 'Luiz Damas', description: 'Um clássico em português, muito utilizado em universidades.'},
                        ],
                        platforms: [
                            { name: 'HackerRank / LeetCode', description: 'Para praticar algoritmos e estruturas de dados.' },
                            { name: 'Beecrowd (antigo URI)', description: 'Plataforma brasileira com muitos problemas de programação.' },
                            { name: 'cppreference.com', description: 'Referência técnica completa e excelente para a biblioteca padrão C.' },
                        ],
                        tips: [
                            "Pratique consistentemente, mesmo que seja por pouco tempo todos os dias.",
                            "Não tenha medo de erros; eles são a principal ferramenta de aprendizagem.",
                            "Leia código de outros programadores para aprender novas técnicas.",
                            "Construa pequenos projetos para aplicar o que aprendeu.",
                            "Aprenda a usar um depurador (GDB) o mais cedo possível.",
                            "Foque-se em entender os conceitos, especialmente ponteiros, em vez de apenas decorar a sintaxe."
                        ]
                    }
                }
            };

            const contentContainer = document.getElementById('content-container');
            const navigation = document.getElementById('navigation');
            const sections = document.querySelectorAll('.content-section');
            const navLinks = document.querySelectorAll('.nav-link');

            const menuButton = document.getElementById('menu-button');
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');

            // Function to generate module content
            function generateModuleHTML(moduleKey, moduleData) {
                let exercisesHTML = moduleData.exercises.map(ex => `
                    <div class="bg-slate-100 p-4 rounded-md">
                        <h5 class="font-semibold text-slate-700">${ex.title}</h5>
                        <p class="text-sm text-slate-500 mt-1">${ex.details}</p>
                    </div>
                `).join('');

                return `
                    <section id="${moduleKey}" class="content-section mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4">${moduleData.title}</h2>
                        <p class="text-lg text-slate-600 mb-8">${moduleData.description}</p>
                        <div class="grid md:grid-cols-2 gap-8">
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <h4 class="text-xl font-semibold text-slate-800 mb-4">Tópicos Abordados</h4>
                                <ul class="space-y-3">
                                    ${moduleData.topics.map(topic => `<li class="flex items-start"><span class="text-sky-500 font-bold mr-3 mt-1">&#10003;</span><span>${topic}</span></li>`).join('')}
                                </ul>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <h4 class="text-xl font-semibold text-slate-800 mb-4">Exercícios Práticos Sugeridos</h4>
                                <div class="space-y-4">${exercisesHTML}</div>
                            </div>
                        </div>
                    </section>
                `;
            }

            function generateResourcesHTML(data) {
                 return `
                    <section id="recursos" class="content-section mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-slate-900 mb-4">Recursos Adicionais & Dicas</h2>
                        <p class="text-lg text-slate-600 mb-8">${data.description}</p>

                        <div class="space-y-8">
                            <div>
                                <h3 class="text-2xl font-semibold text-slate-800 mb-4 border-b-2 border-sky-200 pb-2">Livros Recomendados</h3>
                                <div class="grid md:grid-cols-3 gap-6">
                                    ${data.books.map(book => `
                                        <div class="bg-white p-6 rounded-lg shadow-md">
                                            <h4 class="font-bold text-slate-900">${book.title}</h4>
                                            <p class="text-sm text-slate-500 mb-2">por ${book.author}</p>
                                            <p class="text-slate-600">${book.description}</p>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                             <div>
                                <h3 class="text-2xl font-semibold text-slate-800 mb-4 border-b-2 border-sky-200 pb-2">Plataformas e Ferramentas</h3>
                                 <div class="grid md:grid-cols-2 gap-6">
                                    ${data.platforms.map(p => `
                                        <div class="bg-white p-6 rounded-lg shadow-md">
                                            <h4 class="font-bold text-slate-900">${p.name}</h4>
                                            <p class="text-slate-600">${p.description}</p>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                             <div>
                                <h3 class="text-2xl font-semibold text-slate-800 mb-4 border-b-2 border-sky-200 pb-2">Dicas para o Sucesso</h3>
                                <div class="bg-white p-6 rounded-lg shadow-md">
                                    <ul class="space-y-3 list-disc list-inside text-slate-600">
                                        ${data.tips.map(tip => `<li>${tip}</li>`).join('')}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>
                `;
            }

            // Populate content
            for (const key in studyPlan.content) {
                if (key.startsWith('modulo')) {
                    contentContainer.innerHTML += generateModuleHTML(key, studyPlan.content[key]);
                }
            }
            contentContainer.innerHTML += generateResourcesHTML(studyPlan.content.recursos);

            const allSections = document.querySelectorAll('.content-section');

            // Navigation handler
            function showSection(hash) {
                allSections.forEach(section => {
                    section.classList.remove('active');
                });
                navLinks.forEach(link => {
                    link.classList.remove('active');
                });

                const sectionToShow = document.querySelector(hash);
                const linkToActivate = document.querySelector(`.nav-link[href="${hash}"]`);

                if (sectionToShow) {
                    sectionToShow.classList.add('active');
                }
                if (linkToActivate) {
                    linkToActivate.classList.add('active');
                }
            }

            navigation.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    e.preventDefault();
                    const hash = e.target.hash;
                    window.location.hash = hash;
                }
            });

            window.addEventListener('hashchange', function() {
                const hash = window.location.hash || '#introducao';
                showSection(hash);

                // Close sidebar on navigation on mobile
                if (sidebar.classList.contains('translate-x-0')) {
                    sidebar.classList.remove('translate-x-0');
                    sidebar.classList.add('-translate-x-full');
                    overlay.classList.add('hidden');
                }
            });

            // Initial load
            const initialHash = window.location.hash || '#introducao';
            showSection(initialHash);

            // Mobile menu toggle
            menuButton.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full');
                sidebar.classList.toggle('translate-x-0');
                overlay.classList.toggle('hidden');
            });
            overlay.addEventListener('click', () => {
                sidebar.classList.add('-translate-x-full');
                sidebar.classList.remove('translate-x-0');
                overlay.classList.add('hidden');
            });


            // Chart.js implementation
            const ctx = document.getElementById('complexityChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: studyPlan.modules.map(m => m.title.split(':')[0]), // 'Módulo 1', 'Módulo 2', etc.
                    datasets: [{
                        label: 'Complexidade Estimada',
                        data: studyPlan.modules.map(m => m.complexity),
                        backgroundColor: 'rgba(14, 165, 233, 0.6)', // sky-500 with opacity
                        borderColor: 'rgba(14, 165, 233, 1)', // sky-500
                        borderWidth: 1,
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 10,
                            title: {
                                display: true,
                                text: 'Nível de Complexidade (1-10)'
                            }
                        },
                        x: {
                            ticks: {
                                autoSkip: false,
                                maxRotation: 45,
                                minRotation: 45
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                title: function(context) {
                                    return studyPlan.modules[context[0].dataIndex].title;
                                }
                            }
                        }
                    }
                }
            });

        });
    </script>
</body>
</html>
